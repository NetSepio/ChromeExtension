import{S as X,i as Z,s as ee,k as l,y as te,a as b,q as D,l as o,m as f,z as ae,c as y,r as H,h as p,n as r,b as re,A as se,D as e,M as C,K as F,g as ne,d as le,B as oe,N as ie,I as ue}from"../chunks/index.89e71670.js";import{H as ce}from"../chunks/Header.a642babc.js";import{j as me}from"../chunks/store.b194c171.js";import{P as pe}from"../chunks/public.2e09b8bb.js";function de(h){let t,u,U,c,_,T,$,B,d,n,L,E,i,P,v,g,R,V,m,j,k,q,w,N,I,z,x,O,G;return u=new ce({}),{c(){t=l("div"),te(u.$$.fragment),U=b(),c=l("h1"),_=D("Set your profile"),T=b(),$=l("br"),B=b(),d=l("div"),n=l("label"),L=D("Enter name"),E=b(),i=l("input"),P=b(),v=l("div"),g=l("label"),R=D("Enter profile URL"),V=b(),m=l("input"),j=b(),k=l("br"),q=b(),w=l("div"),N=l("div"),I=l("button"),z=D("Save"),this.h()},l(s){t=o(s,"DIV",{});var a=f(t);ae(u.$$.fragment,a),U=y(a),c=o(a,"H1",{class:!0});var J=f(c);_=H(J,"Set your profile"),J.forEach(p),T=y(a),$=o(a,"BR",{}),B=y(a),d=o(a,"DIV",{});var A=f(d);n=o(A,"LABEL",{for:!0,class:!0});var K=f(n);L=H(K,"Enter name"),K.forEach(p),E=y(A),i=o(A,"INPUT",{name:!0,type:!0,class:!0}),A.forEach(p),P=y(a),v=o(a,"DIV",{class:!0});var S=f(v);g=o(S,"LABEL",{for:!0,class:!0});var M=f(g);R=H(M,"Enter profile URL"),M.forEach(p),V=y(S),m=o(S,"INPUT",{name:!0,type:!0,class:!0}),S.forEach(p),j=y(a),k=o(a,"BR",{}),q=y(a),w=o(a,"DIV",{class:!0});var W=f(w);N=o(W,"DIV",{class:!0});var Y=f(N);I=o(Y,"BUTTON",{class:!0});var Q=f(I);z=H(Q,"Save"),Q.forEach(p),Y.forEach(p),W.forEach(p),a.forEach(p),this.h()},h(){r(c,"class","text-xl font-bold text-center mt-4"),r(n,"for","userName"),r(n,"class","text-sm text-left mt-4 mb-4"),r(i,"name","userName"),r(i,"type","text"),r(i,"class","secondary-input"),r(g,"for","userImage"),r(g,"class","text-sm text-left mt-4 mb-4"),r(m,"name","userImage"),r(m,"type","url"),r(m,"class","secondary-input"),r(v,"class","mt-12"),r(I,"class","btn primary-button"),r(N,"class","grid flex-grow"),r(w,"class","flex gap-4 w-full mt-5")},m(s,a){re(s,t,a),se(u,t,null),e(t,U),e(t,c),e(c,_),e(t,T),e(t,$),e(t,B),e(t,d),e(d,n),e(n,L),e(d,E),e(d,i),C(i,h[0]),e(t,P),e(t,v),e(v,g),e(g,R),e(v,V),e(v,m),C(m,h[1]),e(t,j),e(t,k),e(t,q),e(t,w),e(w,N),e(N,I),e(I,z),x=!0,O||(G=[F(i,"input",h[3]),F(m,"input",h[4]),F(I,"click",h[2])],O=!0)},p(s,[a]){a&1&&i.value!==s[0]&&C(i,s[0]),a&2&&m.value!==s[1]&&C(m,s[1])},i(s){x||(ne(u.$$.fragment,s),x=!0)},o(s){le(u.$$.fragment,s),x=!1},d(s){s&&p(t),oe(u),O=!1,ie(G)}}}function fe(h,t,u){let U;ue(h,me,n=>u(6,U=n));let c="",_="",T;const $=async()=>{try{let n=c.trim(),L=_.trim(),E=new Headers;E.append("Authorization",`Bearer ${U}`),E.append("Content-Type","application/json");let i=JSON.stringify({name:n,profilePictureUrl:L});(await fetch(`${pe}/profile`,{method:"PATCH",headers:E,body:i})).status!==200&&(T="Failed to update the profile")}catch(n){console.error(n)}finally{window.location.href="/"}};function B(){c=this.value,u(0,c)}function d(){_=this.value,u(1,_)}return[c,_,$,B,d]}class ye extends X{constructor(t){super(),Z(this,t,fe,de,ee,{})}}export{ye as component};
