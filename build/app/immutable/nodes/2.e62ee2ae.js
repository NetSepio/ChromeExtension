import{S as q,i as x,s as z,k as _,a as R,e as _e,l as v,m as g,h as f,c as V,n as b,b as E,H as P,J as ce,I as Ee,o as oe,q as S,r as A,D as h,K as ue,u as Z,L as se,y as K,z as Y,A as Q,v as Pe,d as N,f as De,g as B,B as X}from"../chunks/index.89e71670.js";import{c as Ie,H as Te}from"../chunks/Header.a642babc.js";import{L as We}from"../chunks/Loader.ef1f0f41.js";import{w as Re}from"../chunks/index.41201598.js";import{P as ke}from"../chunks/public.2e09b8bb.js";const Ve=!0,at=Object.freeze(Object.defineProperty({__proto__:null,prerender:Ve},Symbol.toStringTag,{value:"Module"}));function ve(a,e,r){const t=a.slice();return t[6]=e[r].id,t}function ge(a,e,r){const t=a.slice();return t[6]=e[r].id,t[9]=e[r].label,t}function be(a){let e,r=a[9]+"",t,s,o,c,i;function n(){return a[4](a[6])}return{c(){e=_("button"),t=S(r),s=R(),this.h()},l(u){e=v(u,"BUTTON",{class:!0});var l=g(e);t=A(l,r),s=V(l),l.forEach(f),this.h()},h(){b(e,"class",o=`tab ${a[1]===a[6]?"active":""}`)},m(u,l){E(u,e,l),h(e,t),h(e,s),c||(i=ue(e,"click",n),c=!0)},p(u,l){a=u,l&1&&r!==(r=a[9]+"")&&Z(t,r),l&3&&o!==(o=`tab ${a[1]===a[6]?"active":""}`)&&b(e,"class",o)},d(u){u&&f(e),c=!1,i()}}}function $e(a){let e,r;return{c(){e=_("div"),this.h()},l(t){e=v(t,"DIV",{class:!0,id:!0});var s=g(e);s.forEach(f),this.h()},h(){b(e,"class","tab-content"),b(e,"id",r=`tab-content-${a[6]}`),se(e,"show",a[1]===a[6])},m(t,s){E(t,e,s)},p(t,s){s&1&&r!==(r=`tab-content-${t[6]}`)&&b(e,"id",r),s&3&&se(e,"show",t[1]===t[6])},d(t){t&&f(e)}}}function Se(a){let e,r,t,s=a[0],o=[];for(let n=0;n<s.length;n+=1)o[n]=be(ge(a,s,n));let c=a[0],i=[];for(let n=0;n<c.length;n+=1)i[n]=$e(ve(a,c,n));return{c(){e=_("div");for(let n=0;n<o.length;n+=1)o[n].c();r=R();for(let n=0;n<i.length;n+=1)i[n].c();t=_e(),this.h()},l(n){e=v(n,"DIV",{class:!0});var u=g(e);for(let l=0;l<o.length;l+=1)o[l].l(u);u.forEach(f),r=V(n);for(let l=0;l<i.length;l+=1)i[l].l(n);t=_e(),this.h()},h(){b(e,"class","p-1 flex border border-[#263238] dark:border-[#11D9C5] rounded-md mb-6 mx-auto w-11/12")},m(n,u){E(n,e,u);for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(e,null);E(n,r,u);for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(n,u);E(n,t,u)},p(n,[u]){if(u&11){s=n[0];let l;for(l=0;l<s.length;l+=1){const d=ge(n,s,l);o[l]?o[l].p(d,u):(o[l]=be(d),o[l].c(),o[l].m(e,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=s.length}if(u&3){c=n[0];let l;for(l=0;l<c.length;l+=1){const d=ve(n,c,l);i[l]?i[l].p(d,u):(i[l]=$e(d),i[l].c(),i[l].m(t.parentNode,t))}for(;l<i.length;l+=1)i[l].d(1);i.length=c.length}},i:P,o:P,d(n){n&&f(e),ce(o,n),n&&f(r),ce(i,n),n&&f(t)}}}function Ae(a,e,r){let t,{tabs:s=[]}=e,o=Re(s.length>0?s[0].id:null);Ee(a,o,n=>r(1,t=n));function c(n){o.set(n)}oe(()=>{s.forEach(({id:n,component:u,props:l})=>{const d=document.getElementById(`tab-content-${n}`);d&&new u({target:d,props:l||{}})})});const i=n=>c(n);return a.$$set=n=>{"tabs"in n&&r(0,s=n.tabs)},[s,t,o,c,i]}class Le extends q{constructor(e){super(),x(this,e,Ae,Se,z,{tabs:0})}}function Ue(a){let e,r,t,s,o;return{c(){e=_("div"),r=_("button"),t=S("read reviews"),this.h()},l(c){e=v(c,"DIV",{class:!0});var i=g(e);r=v(i,"BUTTON",{class:!0});var n=g(r);t=A(n,"read reviews"),n.forEach(f),i.forEach(f),this.h()},h(){b(r,"class","btn secondary-button"),b(e,"class","grid flex-grow")},m(c,i){E(c,e,i),h(e,r),h(r,t),s||(o=ue(r,"click",a[0]),s=!0)},p:P,i:P,o:P,d(c){c&&f(e),s=!1,o()}}}function je(a,e,r){let{urlWithoutProtocol:t}=e;function s(){window.open(`https://app.netsepio.com/reviews/${t}`,"_blank")}return a.$$set=o=>{"urlWithoutProtocol"in o&&r(1,t=o.urlWithoutProtocol)},[s,t]}class Ce extends q{constructor(e){super(),x(this,e,je,Ue,z,{urlWithoutProtocol:1})}}function Ne(a){let e,r,t,s,o;return{c(){e=_("div"),r=_("button"),t=S("Submit Review"),this.h()},l(c){e=v(c,"DIV",{class:!0});var i=g(e);r=v(i,"BUTTON",{class:!0});var n=g(r);t=A(n,"Submit Review"),n.forEach(f),i.forEach(f),this.h()},h(){b(r,"class","btn primary-button"),b(e,"class","grid flex-grow")},m(c,i){E(c,e,i),h(e,r),h(r,t),s||(o=ue(r,"click",a[0]),s=!0)},p:P,i:P,o:P,d(c){c&&f(e),s=!1,o()}}}function Be(a,e,r){let{urlWithoutProtocol:t}=e;function s(){window.open(`https://app.netsepio.com/dashboard?siteUrl=https://${t}`,"_blank")}return a.$$set=o=>{"urlWithoutProtocol"in o&&r(1,t=o.urlWithoutProtocol)},[s,t]}class Fe extends q{constructor(e){super(),x(this,e,Be,Ne,z,{urlWithoutProtocol:1})}}function we(a,e,r){const t=a.slice();return t[9]=e[r],t}function ye(a){let e,r,t=a[9].description+"",s,o;return{c(){e=_("div"),r=_("p"),s=S(t),o=R(),this.h()},l(c){e=v(c,"DIV",{class:!0});var i=g(e);r=v(i,"P",{});var n=g(r);s=A(n,t),n.forEach(f),o=V(i),i.forEach(f),this.h()},h(){b(e,"class","reviews")},m(c,i){E(c,e,i),h(e,r),h(r,s),h(e,o)},p(c,i){i&1&&t!==(t=c[9].description+"")&&Z(s,t)},d(c){c&&f(e)}}}function He(a){let e,r,t;return{c(){e=_("a"),r=_("button"),t=S("Submit Review"),this.h()},l(s){e=v(s,"A",{href:!0});var o=g(e);r=v(o,"BUTTON",{class:!0});var c=g(r);t=A(c,"Submit Review"),c.forEach(f),o.forEach(f),this.h()},h(){b(r,"class","btn primary-button"),b(e,"href","/submit-review")},m(s,o){E(s,e,o),h(e,r),h(r,t)},p:P,i:P,o:P,d(s){s&&f(e)}}}function Oe(a){let e,r;return e=new Fe({props:{urlWithoutProtocol:a[3]}}),{c(){K(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,s){Q(e,t,s),r=!0},p(t,s){const o={};s&8&&(o.urlWithoutProtocol=t[3]),e.$set(o)},i(t){r||(B(e.$$.fragment,t),r=!0)},o(t){N(e.$$.fragment,t),r=!1},d(t){X(e,t)}}}function qe(a){let e,r,t,s,o,c,i,n,u,l,d,m,$,F,D,H,ee,ne,O,ae,L,U,le,I,T,G,M=a[0].slice(0,2),w=[];for(let p=0;p<M.length;p+=1)w[p]=ye(we(a,M,p));U=new Ce({props:{urlWithoutProtocol:a[3]}});const fe=[Oe,He],j=[];function he(p,y){return p[2]==!1?0:1}return I=he(a),T=j[I]=fe[I](a),{c(){e=_("div"),r=_("div"),t=_("div"),s=_("h3"),o=S("Ratings"),c=R(),i=_("span"),n=S(a[1]),u=S("% safe"),l=R(),d=_("div"),m=_("span"),F=R(),D=_("div"),H=_("h3"),ee=S("Reviews"),ne=R(),O=_("div");for(let p=0;p<w.length;p+=1)w[p].c();ae=R(),L=_("div"),K(U.$$.fragment),le=R(),T.c(),this.h()},l(p){e=v(p,"DIV",{});var y=g(e);r=v(y,"DIV",{});var W=g(r);t=v(W,"DIV",{class:!0});var C=g(t);s=v(C,"H3",{class:!0});var k=g(s);o=A(k,"Ratings"),k.forEach(f),c=V(C),i=v(C,"SPAN",{class:!0});var J=g(i);n=A(J,a[1]),u=A(J,"% safe"),J.forEach(f),C.forEach(f),l=V(W),d=v(W,"DIV",{class:!0});var de=g(d);m=v(de,"SPAN",{style:!0,class:!0}),g(m).forEach(f),de.forEach(f),W.forEach(f),F=V(y),D=v(y,"DIV",{class:!0});var te=g(D);H=v(te,"H3",{class:!0});var pe=g(H);ee=A(pe,"Reviews"),pe.forEach(f),ne=V(te),O=v(te,"DIV",{class:!0});var me=g(O);for(let ie=0;ie<w.length;ie+=1)w[ie].l(me);me.forEach(f),te.forEach(f),ae=V(y),L=v(y,"DIV",{class:!0});var re=g(L);Y(U.$$.fragment,re),le=V(re),T.l(re),re.forEach(f),y.forEach(f),this.h()},h(){b(s,"class","text-xl font-bold"),b(i,"class","text-xs"),b(t,"class","flex justify-between items-center mt-2"),b(m,"style",$=`width: ${a[1]}%`),b(m,"class","h-8 block my-auto bg-#263238 dark:bg-[#11D9C5]"),b(d,"class","mt-4 h-2 w-full overflow-hidden rounded-lg bg-[#FFFFFF0D] dark:bg-#2F3A65 shadow-light"),b(H,"class","text-xl font-bold"),b(O,"class","flex flex-col gap-4"),b(D,"class","my-4"),b(L,"class","grid grid-cols-2 gap-x-2")},m(p,y){E(p,e,y),h(e,r),h(r,t),h(t,s),h(s,o),h(t,c),h(t,i),h(i,n),h(i,u),h(r,l),h(r,d),h(d,m),h(e,F),h(e,D),h(D,H),h(H,ee),h(D,ne),h(D,O);for(let W=0;W<w.length;W+=1)w[W]&&w[W].m(O,null);h(e,ae),h(e,L),Q(U,L,null),h(L,le),j[I].m(L,null),G=!0},p(p,[y]){if((!G||y&2)&&Z(n,p[1]),(!G||y&2&&$!==($=`width: ${p[1]}%`))&&b(m,"style",$),y&1){M=p[0].slice(0,2);let k;for(k=0;k<M.length;k+=1){const J=we(p,M,k);w[k]?w[k].p(J,y):(w[k]=ye(J),w[k].c(),w[k].m(O,null))}for(;k<w.length;k+=1)w[k].d(1);w.length=M.length}const W={};y&8&&(W.urlWithoutProtocol=p[3]),U.$set(W);let C=I;I=he(p),I===C?j[I].p(p,y):(Pe(),N(j[C],1,1,()=>{j[C]=null}),De(),T=j[I],T?T.p(p,y):(T=j[I]=fe[I](p),T.c()),B(T,1),T.m(L,null))},i(p){G||(B(U.$$.fragment,p),B(T),G=!0)},o(p){N(U.$$.fragment,p),N(T),G=!1},d(p){p&&f(e),ce(w,p),X(U),j[I].d()}}}function xe(a,e,r){let t,s,o=[],c=0,i;const n=async()=>{var d;try{const[m]=await chrome.tabs.query({active:!0,currentWindow:!0});r(4,s=(d=m.url)==null?void 0:d.toLocaleLowerCase())}catch(m){console.log(m)}finally{}},u=d=>d==null?void 0:d.replace("ipfs://",""),l=async()=>{try{const d={method:"GET",headers:{"Content-Type":"application/json"}},$=await(await fetch(`${ke}/getreviews?page=1&domain=${t}`,d)).json();r(1,c=$.payload.averageRating),$.payload.reviews&&$.payload.reviews.forEach(async D=>{const ee=await(await fetch(`https://nftstorage.link/ipfs/${u(D.metaDataUri)}`)).json();r(0,o=[...o,ee])})}catch(d){console.error("An error occurred:",d)}};return oe(async()=>{await n(),await l(),r(2,[i]=await Ie(),i)}),a.$$.update=()=>{a.$$.dirty&16&&r(3,t=s==null?void 0:s.replace(/^https?:\/\/([^/]+)\/.*/,"$1"))},[o,c,i,t,s]}class ze extends q{constructor(e){super(),x(this,e,xe,qe,z,{})}}function Ge(a){let e,r;return{c(){e=_("p"),r=S(a[0])},l(t){e=v(t,"P",{});var s=g(e);r=A(s,a[0]),s.forEach(f)},m(t,s){E(t,e,s),h(e,r)},p(t,s){s&1&&Z(r,t[0])},d(t){t&&f(e)}}}function Me(a){let e,r;return{c(){e=_("p"),r=S(a[1])},l(t){e=v(t,"P",{});var s=g(e);r=A(s,a[1]),s.forEach(f)},m(t,s){E(t,e,s),h(e,r)},p(t,s){s&2&&Z(r,t[1])},d(t){t&&f(e)}}}function Je(a){let e;function r(o,c){return o[1]==="Insight generation in progress"?Me:Ge}let t=r(a),s=t(a);return{c(){e=_("div"),s.c(),this.h()},l(o){e=v(o,"DIV",{class:!0});var c=g(e);s.l(c),c.forEach(f),this.h()},h(){b(e,"class","reviews")},m(o,c){E(o,e,c),s.m(e,null)},p(o,[c]){t===(t=r(o))&&s?s.p(o,c):(s.d(1),s=t(o),s&&(s.c(),s.m(e,null)))},i:P,o:P,d(o){o&&f(e),s.d()}}}function Ke(a,e,r){let t,s="",o;const c=async()=>{var n;try{const[u]=await chrome.tabs.query({active:!0,currentWindow:!0});t=(n=u.url)==null?void 0:n.toLocaleLowerCase()}catch(u){console.log(u)}finally{}},i=async()=>{const n={method:"GET",headers:{"Content-Type":"application/json"}},l=await(await fetch(`${ke}/site-insight?siteUrl=${t}`,n)).json();return r(1,o=l.message),l.payload.insight&&r(0,s=l.payload.insight),s};return oe(async()=>{await c(),setTimeout(await i(),3e4)}),[s,o]}class Ye extends q{constructor(e){super(),x(this,e,Ke,Je,z,{})}}function Qe(a){let e,r,t,s,o,c,i,n,u,l,d;return r=new Te({}),i=new Le({props:{tabs:[{id:"tab2",label:"AI's summary",component:Ye},{id:"tab1",label:"Reviews",component:ze}]}}),l=new We({}),{c(){e=_("div"),K(r.$$.fragment),t=R(),s=_("h2"),o=S(a[1]),c=R(),K(i.$$.fragment),n=R(),u=_("div"),K(l.$$.fragment),this.h()},l(m){e=v(m,"DIV",{});var $=g(e);Y(r.$$.fragment,$),t=V($),s=v($,"H2",{class:!0});var F=g(s);o=A(F,a[1]),F.forEach(f),c=V($),Y(i.$$.fragment,$),n=V($),u=v($,"DIV",{class:!0});var D=g(u);Y(l.$$.fragment,D),D.forEach(f),$.forEach(f),this.h()},h(){b(s,"class","pb-2 text-center text-black dark:text-white my-6 text-2xl"),b(u,"class","modal h-screen z-10 absolute top-0 flex justify-center items-center"),se(u,"modal-open",a[0])},m(m,$){E(m,e,$),Q(r,e,null),h(e,t),h(e,s),h(s,o),h(e,c),Q(i,e,null),h(e,n),h(e,u),Q(l,u,null),d=!0},p(m,[$]){(!d||$&2)&&Z(o,m[1]),(!d||$&1)&&se(u,"modal-open",m[0])},i(m){d||(B(r.$$.fragment,m),B(i.$$.fragment,m),B(l.$$.fragment,m),d=!0)},o(m){N(r.$$.fragment,m),N(i.$$.fragment,m),N(l.$$.fragment,m),d=!1},d(m){m&&f(e),X(r),X(i),X(l)}}}function Xe(a,e,r){let t,s,o=!1;const c=async()=>{var i;r(0,o=!0);try{const[n]=await chrome.tabs.query({active:!0,currentWindow:!0});r(2,s=(i=n.url)==null?void 0:i.toLocaleLowerCase())}catch(n){console.log(n)}finally{r(0,o=!1)}};return oe(async()=>{await c()}),a.$$.update=()=>{a.$$.dirty&4&&r(1,t=s==null?void 0:s.replace(/^https?:\/\/([^/]+)\/.*/,"$1"))},[o,t,s]}class Ze extends q{constructor(e){super(),x(this,e,Xe,Qe,z,{})}}function et(a){let e,r;return e=new Ze({}),{c(){K(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,s){Q(e,t,s),r=!0},p:P,i(t){r||(B(e.$$.fragment,t),r=!0)},o(t){N(e.$$.fragment,t),r=!1},d(t){X(e,t)}}}class lt extends q{constructor(e){super(),x(this,e,null,et,z,{})}}export{lt as component,at as universal};
